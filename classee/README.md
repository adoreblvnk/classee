<div align="center"> <!-- use align as CSS is not allowed on GitHub markdown https://github.com/orgs/community/discussions/22728 -->
  <img src="/classee/assets/classee_logo.png" alt="" width=100> <!-- Logo -->
  <h1>classee</h1> <!-- Project Name -->
  <p> <!-- Description -->
    CLI CMS (Class Management System) built in C for INF1002 Programming Fundamentals.
  </p>
  <p> <!-- Built With -->
    Built With: 
	<a href="https://cmake.org">CMake</a> &bull; 
	<a href="https://www.throwtheswitch.org/unity">Unity</a> &bull;
	<a href="https://github.com/sharkdp/hyperfine">hyperfine</a>
  </p>
</div>

---

<details>
<summary>Table of Contents</summary>

- [About](#about)
- [Demo](#demo)
- [Getting Started](#getting-started)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
  - [Execution](#execution)
- [Usage](#usage)
  - [Unit Tests](#unit-tests)
  - [Performance Benchmarking](#performance-benchmarking)
</details>

## About

`classee` is a CLI CMS (Class Management System) built in C to demonstrate data structures, algorithms, & software engineering principles.

Key design features:
1. **Efficient Data Management**: Uses BST (Binary Search Tree) for O(log n) CRUD operations.
2. **Performance Optimization**: Fisher-Yates shuffle-on-load to prevent BST degeneration.
3. **Audit Log & Database Rollback**: Unique dual-log system provides an immutable audit log (`cms.log`) & transactional log (`cms.tlog`) for **point-in-time** rollbacks.

**System Architecture**

<div align=center><img src="/classee/assets/system_arch.png" alt="" width=750></div>

## Demo

<div align=center>
  <a href="https://youtu.be/2TVf3KaRy-o">
    <img src="/classee/assets/thumbnail.png" alt="" width="750">
  </a>
  <p>
    <em>Click to watch our live demo on YouTube</em>
  </p>
</div>

## Getting Started

### Prerequisites

- [CMake](https://cmake.org)
- [hyperfine](https://github.com/sharkdp/hyperfine)

### Installation

1. Generate build files:
   ```sh
   cmake -B build
   ```
2. Build project:
   ```sh
   cmake --build build
   ```

### Execution

Run application from root of directory:
```sh
./build/bin/classee
```

## Usage

`classee` uses a flexible key-value pair syntax for most of its commands:
- `OPEN`
- `SAVE`: Writes record to database file
- `SHOW ALL [SORT BY <ID|MARK> <ASC|DESC>]`: Displays student records
- `SHOW SUMMARY [ALL|<course_name>]`: Summary statistics
- `SHOW <LOG|TLOG>`: Show audit / transaction log
- `INSERT ID=... Name=... Programme=... Mark=...`
- `QUERY ID=...`
- `DELETE ID=...`
- `ROLLBACK <change_id>`: Rollback database to specific change ID (from `SHOW <LOG|TLOG>`)
- `EXIT`

### Unit Tests

1. Generate build files & build project:
   ```sh
   cmake -B build -DBUILT_TESTING ON && cmake --build build
   ```
2. Run tests:
   ```sh
   ./build/bin/run_tests
   ```

### Performance Benchmarking

<div align=center><img src="/classee/assets/benchmark.png" alt="" width=750></div>

Benchmarks performance of the shuffled BST against a degenerate linked list with a set of common commands in `benchmark/cmds.txt` (eg `SHOW ALL`, `SORT`, etc). Run with:

```sh
./benchmark/run_benchmark.sh
```

## Credits <!-- omit in toc -->

- [adore_blvnk](https://github.com/adoreblvnk)
- [Yeow Heng](https://github.com/yeowhengg)
- [Vincent](https://github.com/vincentfoo2003)
- [Joel](https://github.com/Drowtsee)

## Acknowledgements <!-- omit in toc -->

<!-- Inspired by Best-README-Template (https://github.com/othneildrew/Best-README-Template) -->
<!-- Table of Contents generated by Markdown All in One (https://github.com/yzhang-gh/vscode-markdown) -->

<!-- Helpful notes:
- insert a centred image:
  <div align=center><img src="" alt="" width=750></div>
-->
